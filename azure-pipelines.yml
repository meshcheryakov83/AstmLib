pool:
  vmImage: 'ubuntu-latest'

variables:
  buildConfiguration: 'Release'

stages:
  - stage: Build
    jobs:
      - job: BuildJob
        steps:
          - script: dotnet build --configuration $(buildConfiguration)
            displayName: 'dotnet build $(buildConfiguration)'
  - stage: Test
    jobs:
      - job: TestJob
        steps:
          - script: find ./tests -type f -name '*.csproj' | xargs -Iz dotnet test z
